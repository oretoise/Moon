---
    title: Kioptrix 3 Walkthrough
    date: 2019-01-03
    excerpt: "3rd Kioptrix CTF Write-up and Tutorial"
    tags: [ctf, cybersec, kioptrix, nmap]
---

# Kioptrix 3

Kioptrix 3 is the third of five VMs in the Kioptrix line. True to the author's word, it is quite different from the first two. This one involves exploiting a web application rather than a known vulnerability.

VM can be downloaded at [Vulnhub](https://www.vulnhub.com/entry/kioptrix-level-12-3,24/).

## My Setup
I'll be attacking this in Kali Linux from VirtualBox on Windows. As with all the other CTFs I've done, they're on a shared NATNetwork with Kali.

**IP Range:** The IP range I have set for the NATNetwork is 10.0.2.0/24.

## VM Discovery
Nmap's ping scan is handy for this. Just use the -sP flag with your desired IP range.

```bash
root@kali:~/Desktop/k3# nmap -sP 10.0.2.0/24
Starting Nmap 7.70 ( https://nmap.org ) at 2019-01-28 15:10 EST
...
MAC Address: 08:00:27:0E:07:C0 (Oracle VirtualBox virtual NIC)
Nmap scan report for kioptrix3.com (10.0.2.12)
Host is up (0.00014s latency).
...
Nmap done: 256 IP addresses (5 hosts up) scanned in 2.05 seconds
```

The VM is 10.0.2.12 for me.

## Port Scan
While it mentions a web app, we might as well see if there's anything else.

```bash
root@kali:~/Desktop/k3# nmap -p- -sS -sV -T4 10.0.2.12
Starting Nmap 7.70 ( https://nmap.org ) at 2019-01-28 15:12 EST
Nmap scan report for kioptrix3.com (10.0.2.12)
Host is up (0.000091s latency).
Not shown: 65533 closed ports
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 4.7p1 Debian 8ubuntu1.2 (protocol 2.0)
80/tcp open  http    Apache httpd 2.2.8 ((Ubuntu) PHP/5.2.4-2ubuntu5.6 with Suhosin-Patch)
MAC Address: 08:00:27:52:39:9E (Oracle VirtualBox virtual NIC)
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 8.65 seconds
```

Nothing much to go off of here. Even if PHP was vulnerable, we'd need to write a file to the server to take advantage of it.

### Hosts
Before we go on, the VM requests we add the VM's IP address as "kioptrix3.com" to the hosts file.

## La Galerie
The hompeage mentions a new gallery CMS.

<figure>
  <img src="{{ site.url }}{{ site.baseurl }}/assets/img/kioptrix3/homepage.PNG" alt="">
  <figcaption>Ligoat Security homepage.</figcaption>
</figure>

## DB Credentials

## SQL Injection Method

## Escalation

## Flag